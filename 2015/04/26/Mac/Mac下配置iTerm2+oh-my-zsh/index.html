<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Mac下配置iTerm2+oh-my-zsh | QiangBlog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="这篇帖子，记录一下这两天Mac下安装iTerm2，以及配置zsh + oh-my-zsh的一些步骤和坑

上个星期逛知乎的时候翻到一篇帖子：程序员如何优雅的使用Mac，看完之后对里面的iTerm2非常感兴趣，一通折腾。
安装iTerm2非常简单，直接去官网下载最新的就好了。
安装zshzsh是一个可以替换bash的东西，拥有强大的功能，Mac就用万能的brew安装就好了
brew info zsh">
<meta property="og:type" content="article">
<meta property="og:title" content="Mac下配置iTerm2+oh-my-zsh">
<meta property="og:url" content="http://zgr0629.github.io/2015/04/26/Mac/Mac下配置iTerm2+oh-my-zsh/index.html">
<meta property="og:site_name" content="QiangBlog">
<meta property="og:description" content="这篇帖子，记录一下这两天Mac下安装iTerm2，以及配置zsh + oh-my-zsh的一些步骤和坑

上个星期逛知乎的时候翻到一篇帖子：程序员如何优雅的使用Mac，看完之后对里面的iTerm2非常感兴趣，一通折腾。
安装iTerm2非常简单，直接去官网下载最新的就好了。
安装zshzsh是一个可以替换bash的东西，拥有强大的功能，Mac就用万能的brew安装就好了
brew info zsh">
<meta property="og:image" content="~/18-49-14.jpg">
<meta property="og:image" content="~/QQ20150426-1.jpg">
<meta property="og:image" content="~/QQ20150426-2.jpg">
<meta property="og:image" content="~/19-05-27.jpg">
<meta property="og:image" content="~/19-08-49.jpg">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Mac下配置iTerm2+oh-my-zsh">
<meta name="twitter:description" content="这篇帖子，记录一下这两天Mac下安装iTerm2，以及配置zsh + oh-my-zsh的一些步骤和坑

上个星期逛知乎的时候翻到一篇帖子：程序员如何优雅的使用Mac，看完之后对里面的iTerm2非常感兴趣，一通折腾。
安装iTerm2非常简单，直接去官网下载最新的就好了。
安装zshzsh是一个可以替换bash的东西，拥有强大的功能，Mac就用万能的brew安装就好了
brew info zsh">
  
    <link rel="alternative" href="/atom.xml" title="QiangBlog" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="/css/style.css" type="text/css">
  

</head>
<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">QiangBlog</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="q" value="site:http://zgr0629.github.io"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-Mac/Mac下配置iTerm2+oh-my-zsh" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/04/26/Mac/Mac下配置iTerm2+oh-my-zsh/" class="article-date">
  <time datetime="2015-04-26T09:29:00.000Z" itemprop="datePublished">2015-04-26</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Mac下配置iTerm2+oh-my-zsh
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <blockquote>
<p>这篇帖子，记录一下这两天Mac下安装iTerm2，以及配置zsh + oh-my-zsh的一些步骤和坑</p>
</blockquote>
<p>上个星期逛知乎的时候翻到一篇帖子：<a href="http://www.zhihu.com/question/20873070" target="_blank" rel="external">程序员如何优雅的使用Mac</a>，看完之后对里面的<a href="http://www.iterm2.com/" target="_blank" rel="external">iTerm2</a>非常感兴趣，一通折腾。</p>
<h3 id="安装iTerm2">安装iTerm2</h3><p>非常简单，直接去官网下载最新的就好了。</p>
<h3 id="安装zsh">安装zsh</h3><p>zsh是一个可以替换bash的东西，拥有强大的功能，Mac就用万能的brew安装就好了</p>
<pre><code><span class="title">brew</span> <span class="built_in">info</span> zsh
</code></pre><p>安装完成后会生成zsh的配置文件，放在~/.zshrc。这个配置文件是zsh的入口，每次开启新的terminal的时候都会读取这里的配置。不过先不要着急改这个配置文件，待会它就会被omz替换掉了。</p>
<h3 id="安装oh-my-zsh">安装oh-my-zsh</h3><p>oh-my-zsh是一套为方便配置zsh开发的开源框架，主要功能是增加了插件和主题。到目前为止，据<a href="http://ohmyz.sh/" target="_blank" rel="external">官网</a>所说，已经有180+个插件和140+个主题了。在官网下方可以方便的找到安装方法</p>
<p><strong>通过Curl安装</strong></p>
<pre><code><span class="variable">$ </span>curl -<span class="constant">L </span><span class="symbol">https:</span>/<span class="regexp">/raw.github.com/robbyrussell</span><span class="regexp">/oh-my-zsh/master</span><span class="regexp">/tools/install</span>.sh | sh
</code></pre><p><strong>通过Wget安装</strong></p>
<pre><code><span class="variable">$ </span>wget <span class="symbol">https:</span>/<span class="regexp">/raw.github.com/robbyrussell</span><span class="regexp">/oh-my-zsh/master</span><span class="regexp">/tools/install</span>.sh -<span class="constant">O </span>- | sh
</code></pre><p>上面的任意一个命令会下载一个sh，然后运行它，运行完毕之后oh-my-zsh就安装完成了。omz    的安装会把之前提到的~/.zshrc备份为~/.zshrc.pre-oh-my-zsh，然后生成一个新的~/.zshrc替换掉原有的。打开这个新的看看里面的内容，有很大一部分注释，但是需要注意只有这几行：</p>
<pre><code>export <span class="variable">ZSH=</span>/Users/zgr0629/.oh-my-zsh
<span class="variable">ZSH_THEME=</span><span class="string">"robbyrussell"</span>
<span class="variable">DEFAULT_USER=</span><span class="string">"zgr0629"</span>
<span class="variable">plugins=</span>(git brew node npm)
source $ZSH/oh-my-zsh.sh
</code></pre><p>第一行定义了一个ZSH的变量，记录了omz的根目录<br>ZSH_THEME就是omz的主题了<br>DEFAULT_USER这里填上你的用户名之后可以隐藏命令行前面的用户，洁癖患者必备。<br>plugins这里按照自己的需要，可以加载各种插件。<br>最后，source命令把上述配置好的变量一并带到omz的脚本里执行，从而达到配置zsh的目的。</p>
<h3 id="主题！主题！主题！">主题！主题！主题！</h3><p><strong><em>agnoster主题</em></strong><br>对，主题是一个非常重要的功能，谁希望整天对着黑白的shell做一整天。OMZ有非常多的主题，<a href="https://gist.github.com/3712874" target="_blank" rel="external">这个连接里</a>有很多可以选，大部分都有截图，不过基本上都是用agnoster，配上强大的solarized配色方案，和powerline（提供git提示符），就会有下面的效果了。<br><img src="~/18-49-14.jpg" alt=""><br>使用这个agnoster主题很简单，先</p>
<pre><code><span class="title">vi</span> ~/.zshrc
</code></pre><p>把里面的</p>
<pre><code><span class="setting">ZSH_THEME=<span class="value"><span class="string">"robbyrussell"</span></span></span>
</code></pre><p>改为</p>
<pre><code><span class="setting">ZSH_THEME=<span class="value"><span class="string">"agnoster"</span></span></span>
</code></pre><p>然后:wq，重新打开iTerm2就行了，当然，这个时候的效果还不会跟上图一样，因为还需要配置下面几个东东。</p>
<p><strong><em>Powerline字体</em></strong><br>如同上面看到的特殊三角或者是分支的图案，这个是patch到字体里面的，所以如果你要使用这种功能，必须把自己的字体给改了。你可以到<a href="https://github.com/powerline/fonts" target="_blank" rel="external">这里</a>下载别人已经patch好的字体，或者到<a href="https://github.com/powerline/fontpatcher" target="_blank" rel="external">这里</a>下载程序，自己patch。得到字体文件之后直接双击，点击InstallFont安装到系统备用。比如我就是用的Mac原生终端自己Menlo的Powerline版本，Menlo字体看习惯了，没办法。</p>
<p><img src="~/QQ20150426-1.jpg" alt=""></p>
<p><strong><em>Solarized配色方案</em></strong><br>这套配色方案看着不累，主页在<a href="http://ethanschoonover.com/solarized" target="_blank" rel="external">这里</a>，也可以从github上clone下来</p>
<pre><code><span class="variable">$ </span>git clone <span class="symbol">git:</span>/<span class="regexp">/github.com/altercation</span><span class="regexp">/solarized.git</span>
</code></pre><p>clone下来之后会看到很多文件夹，因为我们用的终端是iTerm2，所以找到solarized/iterm2-colors-solarized，里面有两个文件，一黑一白，双击就可以直接把这个Solarized的配色方案导入到iTerm2里面了。如果你需要其他的IDE或者终端也用这个配色方案，请找寻其他相应的文件夹。<br><img src="~/QQ20150426-2.jpg" alt=""></p>
<h3 id="iTerm2的设置">iTerm2的设置</h3><p>准备材料都完成了，最后需要配置终端了。打开iTerm2的Preference—Profile—点选你要修改的Profile—Colors—Load Persets。如果上面的配色方案导入成功，iTerm2就会出现这两个预设方案。<br><img src="~/19-05-27.jpg" alt=""></p>
<p>切换到Text，把Regular Font和Non-ASCII Font都改成刚才安装好的powerline字体。<br><img src="~/19-08-49.jpg" alt=""><br>最大的坑来了，一定记得把Text Rendering里的Drew bold text in bright colors给去掉，否则你ls的时候不论怎么设置都不会让列表着色。<br>其实不是因为没有着色，而是因为Solarized配色方案里面的Bright几个颜色就是这样的，可以翻回上面那张图看看。我整了一下午，终于发现不是设置原因而是配色方案本身有问题。。。</p>
<p>经过以上的设置，iTerm2终于被调教的顺眼一些了。<br>从此，作为程序员的你，被妹纸看到竟然用Mac编程的时候，也会显得更高端了，不是吗？咦，我忘了，因为首先。。。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://zgr0629.github.io/2015/04/26/Mac/Mac下配置iTerm2+oh-my-zsh/" data-id="ci8zwxirz0006wcho6q72w3o0" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2015/04/27/服务器/Linux命令后台运行/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          Linux命令后台运行
        
      </div>
    </a>
  
  
    <a href="/2015/04/25/Mac/Mac下免密码ssh远程主机/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">Mac下免密码ssh远程主机</div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Safari/">Safari</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/call-chain-Javascript-链式调用/">call, chain , Javascript , 链式调用</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/textarea-前端技术-大小自适应-自适应/">textarea , 前端技术 , 大小自适应 , 自适应</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/阅读器/">阅读器</a><span class="tag-list-count">1</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/Safari/" style="font-size: NaNpx;">Safari</a><a href="/tags/call-chain-Javascript-链式调用/" style="font-size: NaNpx;">call, chain , Javascript , 链式调用</a><a href="/tags/textarea-前端技术-大小自适应-自适应/" style="font-size: NaNpx;">textarea , 前端技术 , 大小自适应 , 自适应</a><a href="/tags/阅读器/" style="font-size: NaNpx;">阅读器</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/04/">April 2015</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/03/">March 2013</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/07/">July 2012</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/05/">May 2012</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/04/">April 2012</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/03/">March 2012</a><span class="archive-list-count">1</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recents</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2015/04/27/服务器/Linux命令后台运行/">Linux命令后台运行</a>
          </li>
        
          <li>
            <a href="/2015/04/26/Mac/Mac下配置iTerm2+oh-my-zsh/">Mac下配置iTerm2+oh-my-zsh</a>
          </li>
        
          <li>
            <a href="/2015/04/25/Mac/Mac下免密码ssh远程主机/">Mac下免密码ssh远程主机</a>
          </li>
        
          <li>
            <a href="/2015/04/22/Mac/Mac下通过HomeBrew安装Nginx的坑/">Mac下通过HomeBrew安装Nginx的坑</a>
          </li>
        
          <li>
            <a href="/2013/03/26/服务器/PHP的单例模式/">PHP的单例模式</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2015 Gary<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css" type="text/css">
  <script src="/fancybox/jquery.fancybox.pack.js" type="text/javascript"></script>


<script src="/js/script.js" type="text/javascript"></script>

  </div>
</body>
</html>